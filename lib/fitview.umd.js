/*!
* fitview v0.1.0
* Copyright 2024 Pbstar (https://github.com/pbstar)
* Licensed under MIT (https://github.com/pbstar/fitview/blob/main/LICENSE)
* 2024-08-10 15:58:21
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fitview=t()}(this,(function(){"use strict";function e(t){var l=t.getBoundingClientRect();if(l.width>0&&l.height>0)return{width:Math.floor(l.width),height:Math.floor(l.height)};var n=t.parentElement;return n?e(n):{width:0,height:0}}return function(t){var l={el:null,raw_el:null,fit:"contain",uw:1920,uh:1080,vw:0,vh:0,resize:!0};t?t.el?(l.el=t.el,l.raw_el=t.el.innerHTML,t.fit&&(["fill","contain","scroll","hidden"].indexOf(t.fit)>-1?l.fit=t.fit:console.warn("fit must be one of cover, contain, scroll, hidden")),t.uw&&(l.uw=t.uw),t.uh&&(l.uh=t.uh),(t.resize||!1===t.resize)&&(l.resize=t.resize),n(),l.resize&&window.addEventListener("resize",(function(){n()}))):console.warn("el is required"):console.warn("config is required");function n(){var t,n,i,s,o,h,r,c=e(l.el);l.vw=c.width,l.vh=c.height,t=l,n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=t.vw/t.uw,h=t.vh/t.uh,r=t.uh/t.uw,n.style.width=t.vw+"px",n.style.height=t.vh+"px",n.style.display="flex",i.style.overflow="visible",s.style.width=t.uw+"px",s.style.height=t.uh+"px",s.style.transformOrigin="0 0","fill"==t.fit?(n.style.justifyContent="center",n.style.alignItems="center",i.style.width=t.vw+"px",i.style.height=t.vh+"px",s.style.transform="scale( ".concat(o,", ").concat(h," )")):"contain"==t.fit?(n.style.justifyContent="center",n.style.alignItems="flex-start",o>h?(i.style.width=t.vh/r+"px",i.style.height=t.vh+"px",s.style.transform="scale( ".concat(h,", ").concat(h," )")):(i.style.width=t.vw+"px",i.style.height=t.vw*r+"px",s.style.transform="scale( ".concat(o,", ").concat(o," )"))):"scroll"==t.fit?o>h?(i.style.width=t.vw+"px",i.style.height=t.vw*r+"px",s.style.transform="scale( ".concat(o,", ").concat(o," )"),n.style.overflowX="hidden",n.style.overflowY="scroll"):(i.style.width=t.vh/r+"px",i.style.height=t.vh+"px",s.style.transform="scale( ".concat(h,", ").concat(h," )"),n.style.overflowX="scroll",n.style.overflowY="hidden"):"hidden"==t.fit&&(o>h?(i.style.width=t.vw+"px",i.style.height=t.vw*r+"px",s.style.transform="scale( ".concat(o,", ").concat(o," )")):(i.style.width=t.vh/r+"px",i.style.height=t.vh+"px",s.style.transform="scale( ".concat(h,", ").concat(h," )")),n.style.overflow="hidden"),s.innerHTML=t.raw_el,i.appendChild(s),n.appendChild(i),t.el.innerHTML="",t.el.appendChild(n),n=null,i=null,s=null}}}));
